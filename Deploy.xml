<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="15.0" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" Condition="Exists('$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props')" />
  <PropertyGroup>
    <KspDir>C:\KSP-Dev</KspDir>
    <KspGamingDir>C:\Kerbal Space Program</KspGamingDir>
    <GameDataDir>..\KerbalismSimplex</GameDataDir> <!-- "." does not work. Thanks Microsoft! -->
    <DestGameDataDir>KerbalismSimplex</DestGameDataDir>
  </PropertyGroup>
  <Target Name="DeployDev">
    <Message Text="[Mod] Copying gamedata files in KSP.." />
    <CreateItem Include="$(GameDataDir)\**\*.*" Exclude="$(GameDataDir)\**\.git\**">
      <Output TaskParameter="Include" ItemName="GameDataFiles" />
    </CreateItem>
    <Copy SourceFiles="@(GameDataFiles)" DestinationFolder="$(KspDir)\GameData\$(DestGameDataDir)\%(GameDataFiles.RecursiveDir)" SkipUnchangedFiles="true" />
  </Target>
  <Target Name="DeployGaming">
    <Message Text="[Mod] Copying gamedata files in KSP (gaming).." />
    <CreateItem Include="$(GameDataDir)\**\*.*" Exclude="$(GameDataDir)\**\.git\**">
      <Output TaskParameter="Include" ItemName="GameDataFiles" />
    </CreateItem>
    <Copy SourceFiles="@(GameDataFiles)" DestinationFolder="$(KspGamingDir)\GameData\$(DestGameDataDir)\%(GameDataFiles.RecursiveDir)" SkipUnchangedFiles="true" />
  </Target>
</Project>